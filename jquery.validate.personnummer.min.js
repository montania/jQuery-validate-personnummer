/**
 * jQuery validator plugin for validating Swedish "personnummer"
 * https://github.com/montania/jquery-validate-personnummer
 * 
 * Copyright 2011, Montania System AB
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 */  
$.validator.addMethod("personnummer",function(a){a=a.replace("-","");var e=parseInt(a.substr(9,1),10);if(a.length==12)a=a.substr(2,9);else if(a.length==10)a=a.substr(0,9);else return false;for(var d=0,b=0;b<a.length;b++){var c=parseInt(a.substr(b,1),10);if(b%2==0)c*=2;d+=c>9?1+c%10:c}return(e+d)%10==0});